# 调试子进程

读wxbot源码,它使用了`electron`来制作可视化窗口,所以在源码中起了一个子进程来执行

在试图断点时,发现无法执行到子进程的js代码中

### 直接调试进程

在终端中直接用命令行启动主(子)进程,添加启动参数主(子)`--inspect-brk=端口号`,并用vscode`Attach`此端口,即可打上断点

### 附加到主进程

在主进程启动子进程时添加启动参数`--inspect-brk=端口号`,并在主进程调试文件中添`"autoAttachChildProcesses":true,`,即可打上断点

这是使用`spawn`启动子进程时的最佳方案,但是如果是`fork`启动的子进程可能会有问题,未测试

### 使用vscode的task,附加在子进程

同`直接调试进程`,只是通过tasks来简化一步操作,不需要手动在命令行上启动进程,但是始终无法连接成功